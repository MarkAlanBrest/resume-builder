<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Certifications and Skills</title>
  <link rel="stylesheet" href="style.css">

  <style>
    .page-title {
      text-align: center;
      color: #0b3c6d;
      margin-bottom: 30px;
      font-size: 28px;
    }

    .system {
      color: #0b3c6d;
      font-weight: 600;
    }

    .program-box {
      background: #f1f6fb;
      border: 1px solid #c9d9ea;
      padding: 12px;
      margin-bottom: 20px;
      font-weight: bold;
    }
  </style>
</head>
<body>

<div class="chat">

  <h1 class="page-title">NCST’s Resume Builder</h1>

  <!-- PROGRAM DISPLAY -->
  <div id="programDisplay" class="program-box"></div>

  <!-- PROGRAM CERTIFICATIONS -->
  <div class="system">
    The following certifications may be earned during your time at NCST.
    <br>
    <small>
      Select the certifications you expect to achieve by your graduation date.
    </small>
  </div>

  <div id="programCerts"></div>

  <!-- OUTSIDE CERTIFICATIONS -->
  <div class="system">
    Certifications earned outside of school (optional)
  </div>
  <textarea id="extraCerts"></textarea>

  <!-- OUTSIDE SKILLS -->
  <div class="system">
    Skills learned outside of school or work experience (optional)
  </div>
  <textarea id="extraSkills"></textarea>

  <br>

  <button type="button" onclick="goBack()">Back</button>
  <button type="button" onclick="goNext()">Next</button>

</div>

<script>
/* ===== ALL DATA LIVES ON THIS PAGE (NO DEPENDENCIES) ===== */
const PROGRAM_CERTS = {
  "Automotive Technology — Main Campus (New Castle, PA)": [
    "PA State Safety Inspection License",
    "PA Emissions Inspection License",
    "EPA Section 609 Certification",
    "ASE Entry-Level Certifications"
  ],

  "Building Technology — Main Campus (New Castle, PA)": [
    "OSHA 10",
    "Forklift Certification",
    "Scaffolding and Ladder Safety"
  ],

  "Combination Welding — Main Campus (New Castle, PA)": [
    "AWS D1.1 Structural Steel",
    "AWS D1.3 Sheet Metal",
    "FCAW Plate Certification",
    "OSHA 10",
    "Hot Work Safety"
  ],

  "Combination Welding — East Liverpool Campus (East Liverpool, OH)": [
    "AWS D1.1 Structural Steel",
    "AWS D1.3 Sheet Metal",
    "FCAW Plate Certification",
    "OSHA 10",
    "Hot Work Safety"
  ],

  "Commercial Truck Driving (Class A CDL) — Satellite Campus (Pulaski, PA)": [
    "Class A CDL License",
    "FMCSA Entry-Level Driver Training (ELDT)",
    "DOT Medical Card",
    "OSHA 10 (varies)"
  ],

  "Diesel & Heavy Equipment Repair Technology — Satellite Campus (Pulaski, PA)": [
    "OSHA 10",
    "EPA Section 609 Certification",
    "Forklift Certification",
    "ASE Entry-Level Diesel Certifications",
    "Hydraulics and Heavy Equipment Safety"
  ],

  "Electrical Technology — Main Campus (New Castle, PA)": [
    "OSHA 10",
    "NFPA 70E Electrical Safety",
    "Lockout/Tagout Certification",
    "First Aid / CPR",
    "Electrical Safety Cards"
  ],

  "Electrical & Industrial Maintenance — East Liverpool Campus (East Liverpool, OH)": [
    "OSHA 10",
    "NFPA 70E Electrical Safety",
    "Lockout/Tagout Certification",
    "Forklift Certification",
    "Industrial Maintenance Safety"
  ],

  "Heavy Equipment Operations with CDL — Satellite Campus (Pulaski, PA)": [
    "Class A CDL License",
    "OSHA 10",
    "Heavy Equipment Operation Cards (Loader, Excavator, Dozer, etc.)",
    "Rigging and Signaling",
    "Forklift Certification"
  ],

  "Industrial Electro-Mechanical Technology — Main Campus (New Castle, PA)": [
    "OSHA 10",
    "NFPA 70E Electrical Safety",
    "Lockout/Tagout Certification",
    "Forklift Certification",
    "PLC Safety and Operation"
  ],

  "Machinist & CNC Manufacturing — Satellite Campus (Pulaski, PA)": [
    "OSHA 10",
    "NIMS Machining Credentials",
    "CNC Operator Safety",
    "Precision Measurement Certification"
  ],

  "Motorcycle & Power Equipment Technology — Satellite Campus (Pulaski, PA)": [
    "OSHA 10",
    "Small Engine Safety Certification",
    "Motorcycle Electrical Diagnostics Safety",
    "EPA Section 609 Certification (varies)"
  ],

  "Refrigeration & A/C Technology — Main Campus (New Castle, PA)": [
    "EPA Section 608 Universal Certification",
    "R-410A Safety Certification",
    "OSHA 10",
    "Brazing and Refrigeration Safety Cards"
  ],

  "Refrigeration & Climate Control — East Liverpool Campus (East Liverpool, OH)": [
    "EPA Section 608 Universal Certification",
    "R-410A Safety Certification",
    "OSHA 10",
    "Brazing and Refrigeration Safety Cards"
  ]
};

/* ===== STORAGE ===== */
function getData() {
  return JSON.parse(localStorage.getItem("resumeData")) || {};
}
function setData(data) {
  localStorage.setItem("resumeData", JSON.stringify(data));
}

/* ===== LOAD ===== */
window.onload = function () {
  const data = getData();

  // exact string stored by the student-info select
  const program = (data.programCampus || "").trim();

  if (!program || !PROGRAM_CERTS[program]) {
    document.getElementById("programDisplay").textContent =
      "Program not found. Please go back and reselect your program.";
    document.getElementById("programCerts").innerHTML = "";
    return;
  }

  // certifications object (stable)
  data.certifications ||= {
    programCertsSelected: [],
    extraCerts: "",
    extraSkills: ""
  };

  // show program line
  document.getElementById("programDisplay").textContent =
    `Program Selected: ${program}`;

  // restore text fields
  document.getElementById("extraCerts").value = data.certifications.extraCerts || "";
  document.getElementById("extraSkills").value = data.certifications.extraSkills || "";

  // restore checked selections
  const selected = Array.isArray(data.certifications.programCertsSelected)
    ? data.certifications.programCertsSelected
    : [];

  // build checkboxes
  const container = document.getElementById("programCerts");
  container.innerHTML = "";

  PROGRAM_CERTS[program].forEach((cert, i) => {
    const row = document.createElement("div");
    row.className = "check-row";

    const cb = document.createElement("input");
    cb.type = "checkbox";
    cb.id = "cert" + i;
    cb.value = cert;
    cb.checked = selected.includes(cert);

    const label = document.createElement("label");
    label.htmlFor = cb.id;
    label.textContent = cert;

    row.appendChild(cb);
    row.appendChild(label);
    container.appendChild(row);
  });

  // persist object shell in case it was missing
  setData(data);
};

/* ===== NAV ===== */
function goBack() {
  window.location.href = "work.html";
}

function goNext() {
  const data = getData();

  data.certifications ||= {
    programCertsSelected: [],
    extraCerts: "",
    extraSkills: ""
  };

  data.certifications.programCertsSelected = Array.from(
    document.querySelectorAll("#programCerts input:checked")
  ).map(cb => cb.value);

  data.certifications.extraCerts =
    document.getElementById("extraCerts").value.trim();

  data.certifications.extraSkills =
    document.getElementById("extraSkills").value.trim();

  setData(data);
  window.location.href = "education-military-v2.html";
}
</script>

</body>
</html>